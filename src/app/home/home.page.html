<ion-header>
  <ion-toolbar class="black-toolbar">
    <div class="title-container">
      <img src="assets/img/logo.png" alt="Logo" class="logo" (click)="goHome()" />
      <ion-title>
        Preparación Ante Riesgo<br>y Amenazas
      </ion-title>
    </div>
    <ion-buttons slot="end">
      <ion-button *ngIf="!username" (click)="navigateToInicioSesion()">
        <img src="assets/img/icono de usuario.png" alt="Usuario" class="icon">
      </ion-button>
      <ion-button *ngIf="username" (click)="openMenu()">
        <img src="assets/img/avatar.png" alt="Usuario Activo" class="icon">
        {{ username }}
      </ion-button>
      <ion-button (click)="navigateToRanking()">
        <img src="assets/img/icono de ranking.png" alt="Ranking" class="icon">
      </ion-button>
      <ion-button (click)="navigateToAyuda()">
        <img src="assets/img/icono de ayuda.png" alt="Ayuda" class="icon">
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="home-container">
    <img src="assets/img/fondo.jpg" class="background-image" />
    <div class="characters">
      <img src="assets/img/aqua rana.png" class="character aqua" />
      <img src="assets/img/terra armadillo.png" class="character terra" />
    </div>
    <div class="buttons">
      <ion-button expand="block" class="custom-button button1" style="--animation-delay: 0.2s;" (click)="navigateToSeleccionTema()">
        <ion-icon slot="start" name="alert-outline"></ion-icon>
        Prevenciones
      </ion-button>
      <ion-button expand="block" class="custom-button button2" style="--animation-delay: 0.4s;" (click)="navigateToSeleccionJuego()">
        <ion-icon slot="start" name="game-controller-outline"></ion-icon>
        Juego
      </ion-button>
      <ion-button expand="block" class="custom-button button3" style="--animation-delay: 0.6s;" (click)="navigateToOpciones()">
        <ion-icon slot="start" name="settings-outline"></ion-icon>
        Opciones
      </ion-button>
    </div>
  </div>
  <div class="footer-bar"></div>

  <ion-menu side="end" menuId="custom-menu">
    <ion-header>
      <ion-toolbar color="primary">
        <ion-title>Menu</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-item>
          <ion-avatar slot="start">
            <img src="assets/img/avatar.png">
          </ion-avatar>
          <ion-label>{{ username }}</ion-label>
        </ion-item>
        <ion-item>
          <ion-label>Nombre: {{ authService.getCurrentUser()?.nombre }}</ion-label>
        </ion-item>
        <ion-item>
          <ion-label>Apellido: {{ authService.getCurrentUser()?.apellido }}</ion-label>
        </ion-item>
        <ion-item button (click)="editarPerfil()">
          <ion-label>Editar Perfil</ion-label>
        </ion-item>
        <ion-item button (click)="cambiarContrasena()">
          <ion-label>Cambiar Contraseña</ion-label>
        </ion-item>
        <ion-item *ngIf="isAdmin" button (click)="configuracionAdmin()">
          <ion-label>Configuración de Administrador</ion-label>
        </ion-item>
        <ion-item button (click)="logout()">
          <ion-label>Salir de Cuenta</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-menu>
  
</ion-content>

