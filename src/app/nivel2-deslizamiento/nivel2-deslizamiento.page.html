<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <img src="assets/img/retroceso.png" alt="Back" class="back-icon" />
      </ion-button>
    </ion-buttons>
    <div class="title-container">
      <img src="assets/img/logo.png" alt="Logo" class="logo" (click)="goHome()" />
      <ion-title>
        Preparación Ante Riesgo<br>y Amenazas
      </ion-title>
    </div>
    <ion-buttons slot="end">
      <ion-button (click)="navigateToInicioSesion()">
        <img src="assets/img/icono de usuario.png" alt="Usuario" class="icon">
      </ion-button>
      <ion-button>
        <img src="assets/img/icono de ranking.png" alt="Ranking" class="icon">
      </ion-button>
      <ion-button>
        <img src="assets/img/icono de ayuda.png" alt="Ayuda" class="icon">
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="quiz-container">
    <img src="assets/img/fondo.jpg" class="background-image" />
    <div class="timer">Tiempo restante: {{ timer }} segundos</div>
    <div class="question-container" *ngFor="let question of questions; let i = index">
      <div *ngIf="currentIndex === i">
        <div class="section section-1">
          <img src="assets/img/nv-2-t.png" alt="Centered Image" class="centered-image">
        </div>
        <div class="section section-2">
          <p class="centered-text">{{ question.text }}</p>
        </div>
        <div class="section section-3">
          <ion-grid>
            <ion-row>
              <ion-col size="6" *ngFor="let option of question.options">
                <ion-button expand="block" [class.selected]="isSelected(i, option)" (click)="selectAnswer(i, option)">{{ option }}</ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </div>
      </div>
    </div>

    <!-- Navegación del carrusel -->
    <div *ngIf="currentIndex > 0" class="carousel-nav left" (click)="prevSection()">
      <img src="assets/img/flecha izquierda.png" alt="Anterior" class="nav-icon">
    </div>
    <div *ngIf="currentIndex < questions.length - 1" class="carousel-nav right" (click)="nextSection()">
      <img src="assets/img/flecha derecha.png" alt="Siguiente" class="nav-icon">
    </div>
    <div *ngIf="currentIndex === questions.length - 1" class="carousel-nav right" (click)="finishQuiz()">
      <img src="assets/img/flecha derecha-finalizar.png" alt="Finalizar" class="nav-icon">
    </div>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar class="footer-toolbar">
    <ion-title></ion-title>
  </ion-toolbar>
</ion-footer>
